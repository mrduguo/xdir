<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
  xsi:schemaLocation="http://www.springframework.org/schema/beans   
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/util  
       http://www.springframework.org/schema/util/spring-util.xsd">

  <bean id="facebook" class="org.duguo.xdir.security.impl.authentication.facebook.FacebookAuthService">
    <property name="httpClientService" ref="defaultHttpClientService"/>
    <property name="loginUrlBase" value="http://www.facebook.com/login.php?next="/>
    <property name="apiKey" value="0788b104869014ef4ae6c35c10c7428c"/>
    <property name="apiSecret" value="a83fac9209fb55e8ab5b0e387de8f0d3"/>
    <property name="signEncoder" ref="md5Encoder"/>
    <property name="userInfoRetriver" ref="facebookUserInfoRetriver"/>
  </bean>
  
  <bean id="facebookUserInfoRetriver" class="org.duguo.xdir.security.impl.authentication.facebook.FacebookUserInfoRetriver">
    <property name="facebookService" ref="facebook"/>
    <property name="userInfoMap">
    	<map>
    		<entry key="identity" value="0.uid"/>
    		<entry key="email" value="0.email"/>
    		<entry key="firstName" value="0.first_name"/>
    		<entry key="lastName" value="0.last_name"/>
    		<entry key="image" value="0.pic_square"/>
    	</map>
    </property>
  </bean>
  
</beans>