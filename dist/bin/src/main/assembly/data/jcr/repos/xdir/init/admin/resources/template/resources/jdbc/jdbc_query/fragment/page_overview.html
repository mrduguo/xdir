<#include "../support/jdbc">
<@page_overview_title/>
<#assign connection_settings=app.props.resolveStringValue(node.parent.getProperty("_connection_settings").getString())>
<#assign connection_type=node.parent.getProperty("_connection_type").getString()>
${put("sqlQuery",pageProperties["_sql_query"].displayableValue)}
<h3>Query</h3>
<div class="text">
	<pre>${sqlQuery?html}</pre>
</div>
<@groovy>
	<@sql_init/>		
	<#if (model.get("sqlQuery")?lower_case?index_of("select ")==0)>
		<@sql_query_result "Result",model.get("sqlQuery"),10, "${pagePath}/../index${format}?action=runsql&"/>
	<#else>
		<@sql_execute_result "Result",model.get("sqlQuery")/>
	</#if>		
	<@sql_destroy/>
</@groovy>
<@page_overview_content/>
